# PARSONGS

Привет! Спасибо, что заинтересовались данным проектом. В этом файле я расскажу Вам, как тут всё работает и что из этого можно получить. Если по прочтении инструкции у Вас остануться вопросы, пишите: turum13@gmail.com


## Что это такое?
Это небольшой парсер для сайта https://genius.com/
Парсер получает от Вас имя исполнителя и возвращает файлы с текстами песен первого артиста, нашедшегося по Вашему запросу. А также табличку с метаинформацией по каждой песне.


## Что нужно сделать ДО начала работы программы?
1. Установить браузер Chrome. К сожалению, с другими браузерами этот парсер (пока) работать не умеет. 
2. Не забыть вместе с кодом из этого репозитория скачать и установить к себе на компьютер файл chromedriver.exe. Эта штука поможет другой штуке понимать, что ей надо делать со всякими ссылками. Подробнее о том, что это такое и как правильно устанавливать, [тут](https://selenium-python.com/install-chromedriver-chrome). Главное: чтобы Ваш драйвер согласовывался с Вашим браузером Chrome по версии и находился в той же директории (папке), что и файл с кодом.
3. Убедиться, что у Вас установлены следующие модули-библиотеки: requests, pyquery, selenium. Подробнее про то, что такое библиотеки [тут](https://www.youtube.com/watch?v=V3-3xjtMB48), как их устанавливать [тут](https://skillbox.ru/media/code/kak_ustanovit_biblioteku_v_python/)



## Как работает программа?
Программный код - файл code_PARSONGS.py. Запускается как и любая другая программа на питоне: через интерпретатор или командную строку. 

На каждом этапе своей работы программа будет к Вам обращаться. Пожалуйста, ВНИМАТЕЛЬНО читайте, в каком формате должен быть Ваш ответ. Если ограничения не прописаны, значит, их нет.


### Этап 1
Программа: `Hi! Write the artist whose songs you want to get: `

Вы: Вводите имя исполнителя, чьи песни Вы хотите получить. 

Тут ограничения на формат нет, программа сама преобразует Ваш текст в нужный формат. Но чем точнее Вы напишете имя нужного артиста, тем выше шансы, что первым в поиске программе выпадет именно Ваш исполнитель. В противном случае, программа ответит `Sorry, there is no such artist on Genius or I just can't search well enough :(` и прекратит свою работу.

! ОСТОРОЖНО ! Программа может довольно долго искать исполнителя (до 5 минут), особенно при первом запуске. Будьте терпеливее и нежнее.


### Этап 2
Если всё прошло удачно, то следующим шагом программа чекнет, есть ли данный исполнитель в Вашем личном датасете - табличке-списке, куда программа записывает все песни всех иполнителей, которые Вы у неё когда-либо просите. Не переживайте, если Вы запускаете программу в первый раз, она сама создаст рабочую папку и табличку.

Программа: `There is no songs of *имя артиста в том формате, в котором он записан на Genius* in the list yet. Write 'YES' to add this artist's songs to list and 'NO' to stop the program: `

Вы: пишете `YES`, если всё хорошо, или `NO`, если на Землю летит метеорит. 

! ОСТОРОЖНО ! Тут скорость работы программы ещё зависит от количества песен Вашего исполнителя, поскольку в таблицу с данными программа заносит данные обо ВСЕХ песнях, которые есть у Вашего исполнителя на Genius. Если же Вы потом захотите скачать ещё песни данного исполнителя, до данный этап будет пропущен, программа сразу перейдёт к Этапу 3.


### Этап 3
Программа: `There are songs of *имя артиста в формате Genius* in the list. If this the right artist, do you want to download any of its songs? Print 'YES' or 'NO': `

Вы: возмущаетесь, чё так много да-неток?? Ну, мы же в свободной стране живём...

### Этап 4
Программа: `*имя артиста в формате Genius* has *число песен артиста в табличке-списке* songs. There are already *число уже скаченных песен* in *артист.POSS3SG* directory. How many do you want to download? Write a number (! including the number of songs which already exist): `

Вы: пишете (натуральное) число песен, которое хотите в итоге получить.

! ОСТОРОЖНО ! При каждой новой записи уже существующие файлы будут перезаписываться! Поэтому и примечание в скобках. То есть к примеру, у меня уже скачено 5 песен MUSE. И я хочу скачать ещё 10. Поэтому я программе пишу не 10, а 15 (10+15)!

### Этап 5
Скачиваются песенки. Опять же: продолжительность данного этапа зависит от того, как много песен Вы хотите в итоге иметь. 

! ОСОРОЖНО ! Скачаться могут не все песенки, так как Genius может слишком долго обижаться и не давать программе скачать песенку, тогда она просто забьёт и перейдёт к следующей.

Программа: `*число скаченных песен* of *число песен исполнителя* songs have been downloaded!`

Вы: идёте открывать (детское) шампанское



## FFAQ (Future Frequently Asked Questions)
- "Может ли программа скачать песни по их названию?" - (Пока) не может
- "Может ли программа скачать песни русских исполнителей?" - Да, может. Но скорее всего, на Genius либо будут не всех их песни, лиюо их не будет совсем, так как сайт изначально про американскую поп-культуру. 
- "Если в названии есть пробелы/цифры/знаки препинания, прям так и вводить?" - Да, можно так, можно без них, если Вы уверены, что всё равно выпадет нужный исполнитель. Например, P!nk находится как по запросу "Pink", так и "Pink" (регистр также не имеет значения)
- "Скачаются нли каверы на данного исполнителя?" - Каверы на него нет, так как там булет стоять другой исполнитель. А вот каверы этого исполнителя на кого-то другого - запросто. Тега, позволяющего это точно отследить, нет.
- "Почему некоторые песни по два и больше раза скачались?" - Потому что Genius - это такая музыкальная википедия, в том плане, что его создают люди. И стоит создателю текста хоть как-то поменять текст, или название, его пускают на сайт. Поэтому некоторые песни могут дублироваться из-за demo, live и просто опечаток в названии, хотя текст внутри у них может быть одинаковый. Или не одинаковый, а один из куплетов не подписан...
- "Почему в некоторых файлах только одна строчка тип-текста?" - Опять же, недобросовестные пользователи. На Genius есть песни без текстов совсем, такие песни содержат определенный тег, и данной программой отсеиваются. Но у некоторых написана одна строчка. И сайт уже убирает этот тег. А значит, и программа такую песню кушает.


## И ещё немного комментариев...
Если Вы хотите побольше углубиться в Genius, рекомендую питоновскую либу [lyricsgenius](https://github.com/johnwmillr/LyricsGenius). Минусы этой либы только в том, что для её использования нужно иметь аккаунт на Genius, и ещё она всё равно не позволяет скачивать тексты. Что, собственно, делает данный парсер. (Не уверена, что это легально и не нарушает никакие авторские права, так что будьте аккуратнее.)

Если у Вас возникунть траблы при запуске программы, или Вы заметите ошибку в коде, или у Вас есть какие-то пожелания и предложения по улучшению работы данного парсера, пишите! 
